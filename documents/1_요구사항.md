# Product Requirements Document

- What : 제품 요구사항 정의 
  - 무엇을 만들어야 하는가, 
  - 어떤 기능과 페이지가 있는지
- Why : 왜 필요한가
- Functional Spec (기능 명세서) : 특정 기능은 어떻게 동작해야 하는가


## Phase1 : 공공도서관 관리자 시스템
- 소규모 도서관을 위한 SaaS형 멀티테넌시 관리 시스템
- 전국의 작은 도서관이나 커뮤니티 서재가 별도의 서버 구축 없이 즉시 사용할 수 있는 구독형(SaaS) 도서 관리(어드민) 시스템 개발하기 
- 엑셀로 관리하던 도서 리스트, 회원 정보, 평점 데이터를 클라우드로 옮겨와 자동화된 실시간 랭킹과 관리 기능을 제공합니다.

## 문제정의
- 엑셀 관리의 한계: 수많은 작은 도서관에서 여전히 엑셀로 책을 관리합니다. 데이터 유실 위험이 크고, 여러 명의 관리자가 동시에 수정하기 어려우며, 통계를 내는 데 많은 시간이 소요됩니다.
- 낮은 접근성: 기존 도서 관리 시스템은 구축시의 시스템 도입비용에 대한 시간적 난이도적 금전적 부담이 있어 작은 도서관들이 도입하기에 문턱이 높습니다.
- 데이터 활용 부재: 단순히 책을 빌려주는 데 그치고, 우리 도서관에서 '지금 어떤 책이 인기 있는지'와 같은 유의미한 데이터를 실시간으로 추출하기 어렵습니다.

## 해결 아이디어
- SaaS 및 멀티테넌시 지원: 하나의 시스템에서 여러 도서관이 독립적인 관리 공간(Tenant)을 가집니다. 각 도서관은 계정 생성만으로 본인들만의 도서/회원/평점 시스템을 즉시 소유합니다.
- 공공표준 데이터 적재 최적화: 기존에 사용하던 도서 리스트를 마이그레이션하는 기능을 제공합니다. (도서나루 표준 csv 파일형식 지원)
  - 추가적인 엑셀 및 CSV 기능또한 지원합니다

## 추가 아이디어 
- 실시간 핫 랭킹 시스템: 관리자가 일일이 계산할 필요 없이, 최근 1시간 동안의 평점 변화를 추적하여 '우리 도서관 실시간 인기 도서'를 자동으로 산출합니다.
- 정책별 A/B 테스트: '평점이 높은 책'을 추천할지, '최근 평점이 많이 달린 책'을 추천할지 관리자가 정책을 설정하고 효과를 비교해 볼 수 있습니다.
- 이외 운영상의 편리함을 위한 부가기능 (바코드 입력, QR 프린트 등..)

## 기대효과
- 관리 효율화: 관리자는 더 이상 엑셀 수식과 씨름할 필요가 없습니다. 모든 도서와 평점 데이터가 실시간으로 동기화되어 관리 업무 시간이 획기적으로 단축됩니다.
- 데이터 기반 운영: 실시간 핫 랭킹과 통계 API를 통해 우리 도서관 이용자들의 취향을 데이터로 파악하고, 이에 맞춘 도서 큐레이션이 가능해집니다.
- 비용 절감: 멀티테넌시 구조 덕분에 개별 도서관은 저렴한 구독 비용만으로 대형 도서관 수준의 고성능 관리 시스템을 사용할 수 있습니다.

## 주의할 점
- 엑셀보다 쉬운 UX: 평생 엑셀만 써온 관리자도 바로 적응할 수 있도록 인터페이스는 최대한 단순하고 명확하게 유지해야 합니다. ( 프론트엔드 가이드라인을 따르는 이유입니다.)
- 데이터 격리: 멀티테넌시 환경이므로 A 도서관의 데이터가 B 도서관에 노출되지 않도록 완벽한 논리적 격리가 보장되어야 합니다.
- 성능 우선: 작은 도서관이라도 도서 데이터는 수만 건이 넘을 수 있습니다. 초기 적재와 랭킹 조회 시 렉(Lag)이 없는 쾌적한 환경을 제공해야 합니다.

--------

## (번외) 구현 아이디어

### 메뉴 정의 방식
- 메뉴는 config 기반으로 선언
    - path
    - label
    - element (ReactNode)
- navigation.config.tsx 에서 관리
- GNB는 이 설정을 기반으로 자동 렌더링된다.
    - JSX/TSX 기반 element 등록

### 페이지 추가 개발시

- 아래 형태로 등록하여 탭 캐시 및 상태 유지 가능하게 설계됨.
```
element: <SomePage />
```

## Kick 포인트

### 탭 기반 UI 아키텍처 (추가개발 필요)
- 목적
  - 크롬 브라우저 스타일 멀티 탭
  - 탭 전환 시 상태 유지
  - 폼 입력 값 유지
  - 재렌더링 최소화

- 구성
  - TabStore
  - 열린 탭 목록
  - activeTab 관리
  - openTab / closeTab

- 핵심컴포넌트 설명
  - TabBar
    - 탭 UI 렌더링
    - 활성 탭 전환
    - 탭 닫기
  - TabContainer
    - 열린 탭 element 렌더링
    - ReactNode 기반 keep-alive
