
## 포트 in/out 방향 햇갈릴때
헥사고날 아키텍처에서 포트의 방향은 **"제어의 흐름(Flow of Control)"**이 아니라, **"누가 이 인터페이스를 필요로 하느냐"**와 **"의존성의 방향"**에 결정됩니다.

비즈니스 로직이 외부 세계(라이브러리, DB, 외부 API)에 무언가를 요청하기 위해 사용하는 인터페이스는 모두 Out Port입니다.

In Port (Primary)	

역할	: 외부에서 내부(Domain)로 들어오는 관문
호출하는곳() : 어댑터 (Controller 등)
구현체 :비즈니스 로직 (Service)

Out Port (Secondary)
역할 : 내부(Domain)에서 외부로 나가는 통로
호출하는곳 : 비즈니스 로직 (Service)
구현체 : 어댑터 (Persistence, JWT 등)


### 한줄요약
- InPort :  제공해주는 기능들 
- OutPort : 외부에 요청할때 // 이 파일이 의존하는 다른 계약


------



## 참고링크
r2dbc-flyway : https://www.baeldung.com/spring-r2dbc-flyway


----

## 로그인 흐름
```text
Authorization Header (String)
        ↓
[]
- JWT 검증 / 파싱 (Filter / Gateway)
- AuthInfo 생성
        ↓
[resolveArgument]
- exchange.attributes["AUTH_INFO"] = AuthInfo
        ↓
ArgumentResolver가 꺼냄
```



## 로그개선

```text
성능: logback-spring.xml에서 콘솔/파일 Appender를 **<appender-ref ref="ASYNC" />**로 감싸서 비동기로 만드세요.
```